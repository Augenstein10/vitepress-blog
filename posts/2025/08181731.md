---
title: unplugin-auto-import
tags: [插件]
categories: [前端]
date: 2025-08-18
description: unplugin-auto-import 是一个 Vite 插件，用于自动导入模块，减少手动导入的繁琐。
---


---

## 1. **unplugin-auto-import 是什么？**

它是一个 **自动导入插件**，能帮你在 Vue3 / Vite / Webpack / Rollup 项目里自动导入常用 API，比如：

```vue
<script setup>
const count = ref(0)   // ✅ 不用再手动 `import { ref } from 'vue'`
</script>
```

原理就是在编译时帮你补全 import 语句，简化代码，提高开发效率。

常用场景：

* Vue API（ref, reactive, computed, watch, onMounted 等）
* Vue Router API（useRoute, useRouter）
* Pinia API（defineStore, storeToRefs）
* 你自己封装的 utils 函数

---

## 2. **安装**

```bash
pnpm add -D unplugin-auto-import
# 或
npm install -D unplugin-auto-import
```

---

## 3. **Vite 中使用示例（Vue3 项目）**

编辑 `vite.config.ts`：

```ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import AutoImport from 'unplugin-auto-import/vite'

export default defineConfig({
  plugins: [
    vue(),
    AutoImport({
      // 自动导入 Vue、Vue Router、Pinia 的函数
      imports: [
        'vue',
        'vue-router',
        'pinia',
      ],
      // 自动生成对应的声明文件，方便 TypeScript 类型提示
      dts: 'src/auto-imports.d.ts',
      // 生成 ESLint 配置，避免 "no-undef" 报错
      eslintrc: {
        enabled: true, // 生成一次后可以关掉
      },
    }),
  ],
})
```

---

## 4. **使用效果**

假设 `imports` 配置了 `vue`：

```vue
<script setup>
// ✅ 直接用，不用写 import { ref, computed } from 'vue'
const count = ref(0)
const double = computed(() => count.value * 2)
</script>
```

假设配置了 `vue-router`：

```vue
<script setup>
// ✅ 直接用，不用 import { useRoute, useRouter } from 'vue-router'
const route = useRoute()
const router = useRouter()
</script>
```

假设配置了 `pinia`：

```vue
<script setup>
// ✅ 自动引入 defineStore, storeToRefs
const store = useMyStore()
const { user } = storeToRefs(store)
</script>
```

---

## 5. **扩展：自定义函数自动导入**

比如你在 `src/utils/index.ts` 里写了工具函数：

```ts
export function useAuth() {
  return { isLogin: true }
}
```

在 Vite 配置里加：

```ts
AutoImport({
  imports: ['vue'],
  dts: 'src/auto-imports.d.ts',
  dirs: ['src/utils'], // 自动引入 utils 下的函数
})
```

这样 `useAuth()` 也能直接用。

---

## ✅ 总结

* **安装** → `npm install -D unplugin-auto-import`
* **配置** → 在 `vite.config.ts` 里用 `AutoImport()`
* **效果** → Vue/Router/Pinia/自定义 utils 的函数都能自动导入
* **好处** → 少写 import，代码更干净，支持 TS 类型提示

---
